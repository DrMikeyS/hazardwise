import{f as n,a as i,e as T,c as D}from"../chunks/Bgrwumxt.js";import"../chunks/DhE9Dmh7.js";import{H as pt,p as Jt,l as Kt,b as Ot,t as A,a as Qt,s as d,c as e,e as St,m as Vt,r,d as a,f as z,n as Wt,h as E}from"../chunks/BITUO3ds.js";import{s as p}from"../chunks/OzCop-J-.js";import{i as b}from"../chunks/BH6CHFx5.js";import{e as F,i as G}from"../chunks/BVTScTTu.js";import{a as Xt}from"../chunks/i5w7oQmI.js";import{i as Zt}from"../chunks/DYcduxHM.js";import{a as Y,s as ta}from"../chunks/BxqH717Y.js";import{p as bt}from"../chunks/KPTtVCqv.js";import{c as aa,m as ra}from"../chunks/CBoHnL1w.js";import{i as ea}from"../chunks/B94qQf-I.js";import{g as ft}from"../chunks/CvsrO4Zi.js";import{H as rt}from"../chunks/BDVFZ8Lf.js";function sa(k,N,M,B){var u=k.__style;if(pt||u!==N){var H=Xt(N);(!pt||H!==k.getAttribute("style"))&&(H==null?k.removeAttribute("style"):k.style.cssText=H),k.__style=N}return B}var ia=n('<div class="alert alert-info" role="alert">You have not added any hazards yet. Get started by adding your first one.</div> <button class="btn btn-primary mt-3">Add First Hazard</button>',1),oa=n('<span class="badge ms-2"> </span>'),da=n("<span> </span> ",1),na=n('<span class="text-muted">None</span>'),va=n("<tr><td> </td><td><!></td></tr>"),la=n('<div class="table-responsive mb-3"><table class="table table-sm table-bordered"><thead><tr><th style="width:50%">Cause</th><th style="width:50%">Mitigations</th></tr></thead><tbody></tbody></table></div>'),ca=n('<p class="text-muted mb-3">No causes added.</p>'),ma=n("<tr><td> </td></tr>"),_a=n('<div class="table-responsive mb-3"><table class="table table-sm table-bordered"><thead><tr><th>Mitigation</th></tr></thead><tbody></tbody></table></div>'),pa=n('<p class="text-muted">No mitigations added.</p>'),ba=n("<tr><td> </td><td> </td></tr>"),fa=n('<div class="table-responsive mb-3"><table class="table table-sm table-bordered"><thead><tr><th style="width:70%">Description</th><th style="width:30%">Risk Rating</th></tr></thead><tbody></tbody></table></div>'),ua=n('<p class="text-muted mb-3">No impacts added.</p>'),ga=n('<details class="card mb-3"><summary class="card-header d-flex justify-content-between align-items-center"><div><strong> </strong> <!></div> <div class="d-flex align-items-center"><div class="btn-group"><button type="button" class="btn btn-sm btn-outline-secondary">Edit</button> <button type="button" class="btn btn-sm btn-outline-danger">Remove</button></div> <small class="ms-3 text-muted">â–¼</small></div></summary> <div class="card-body"><h5 class="card-title">Causes</h5> <!> <h5 class="card-title">Hazard-Level Mitigations</h5> <!> <h5 class="card-title">Impacts</h5> <!></div></details>'),ha=n('<button class="btn btn-primary mb-3">Add Another Hazard</button> <!>',1),ya=n('<main class="container py-4"><h1 class="mb-3"> </h1> <!></main>');function qa(k,N){Jt(N,!1);const[M,B]=ta(),u=()=>Y(bt,"$project",M),H=()=>Y(ea,"$impacts",M),et=()=>Y(aa,"$causes",M),L=()=>Y(ra,"$mitigations",M),J=Vt();console.log("project:",u()),console.log("impacts:",H());function st(){ft("/workspace/hazard")}function ut(g){if(confirm("Are you sure you want to remove this hazard?")){const I={...u(),hazards:u().hazards.filter($=>$.id!==g)};bt.set(I)}}Kt(()=>u(),()=>{St(J,u().hazards||[])}),Ot(),Zt();var K=ya(),O=e(K),gt=e(O,!0);r(O);var ht=d(O,2);{var yt=g=>{var I=ia(),$=d(z(I),2);T("click",$,st),i(g,I)},xt=g=>{var I=ha(),$=z(I),zt=d($,2);F(zt,1,()=>a(J),G,(kt,v)=>{var Q=ga(),S=e(Q),V=e(S),W=e(V),Ht=e(W,!0);r(W);var it=d(W),It=d(it);{var wt=s=>{var t=oa(),c=e(t);r(t),A((m,w)=>{sa(t,`background-color: ${m??""};`),p(c,`Risk: ${w??""}`)},[()=>rt.getHighestRisk(a(v)).color,()=>rt.getHighestRisk(a(v)).rating],E),i(s,t)};b(It,s=>{rt.getHighestRisk(a(v)).rating&&s(wt)})}r(V);var ot=d(V,2),dt=e(ot),nt=e(dt),Rt=d(nt,2);r(dt),Wt(2),r(ot),r(S);var vt=d(S,2),lt=d(e(vt),2);{var jt=s=>{var t=la(),c=e(t),m=d(e(c));F(m,5,()=>a(v).causeIds,G,(w,h)=>{var y=D(),C=z(y);{var U=l=>{var o=va();const f=E(()=>et().find(x=>x.id===a(h)));var _=e(o),q=e(_,!0);r(_);var R=d(_),X=e(R);{var Z=x=>{var j=D(),Dt=z(j);F(Dt,1,()=>a(f).mitigationIds,G,(Et,mt,Ft)=>{var _t=D(),Gt=z(_t);{var Lt=tt=>{var P=da();const Pt=E(()=>L().find(Bt=>Bt.id===a(mt)));var at=z(P),Tt=e(at,!0);r(at);var Yt=d(at,1,!0);A(()=>{p(Tt,a(Pt).description),p(Yt,Ft<a(f).mitigationIds.length-1?", ":"")}),i(tt,P)};b(Gt,tt=>{L().find(P=>P.id===a(mt))&&tt(Lt)})}i(Et,_t)}),i(x,j)},qt=x=>{var j=na();i(x,j)};b(X,x=>{var j;(j=a(f).mitigationIds)!=null&&j.length?x(Z):x(qt,!1)})}r(R),r(o),A(()=>p(q,a(f).description)),i(l,o)};b(C,l=>{et().find(o=>o.id===a(h))&&l(U)})}i(w,y)}),r(m),r(c),r(t),i(s,t)},At=s=>{var t=ca();i(s,t)};b(lt,s=>{var t;(t=a(v).causeIds)!=null&&t.length?s(jt):s(At,!1)})}var ct=d(lt,4);{var $t=s=>{var t=_a(),c=e(t),m=d(e(c));F(m,5,()=>a(v).mitigationIds,G,(w,h)=>{var y=D(),C=z(y);{var U=l=>{var o=ma();const f=E(()=>L().find(R=>R.id===a(h)));var _=e(o),q=e(_,!0);r(_),r(o),A(()=>p(q,a(f).description)),i(l,o)};b(C,l=>{L().find(o=>o.id===a(h))&&l(U)})}i(w,y)}),r(m),r(c),r(t),i(s,t)},Nt=s=>{var t=pa();i(s,t)};b(ct,s=>{var t;(t=a(v).mitigationIds)!=null&&t.length?s($t):s(Nt,!1)})}var Mt=d(ct,4);{var Ct=s=>{var t=fa(),c=e(t),m=d(e(c));F(m,5,()=>a(v).impactIds,G,(w,h)=>{var y=D(),C=z(y);{var U=l=>{var o=ba();const f=E(()=>H().find(Z=>Z.id===a(h)));var _=e(o),q=e(_,!0);r(_);var R=d(_),X=e(R,!0);r(R),r(o),A(()=>{p(q,a(f).description),p(X,a(f).rating)}),i(l,o)};b(C,l=>{H().find(o=>o.id===a(h))&&l(U)})}i(w,y)}),r(m),r(c),r(t),i(s,t)},Ut=s=>{var t=ua();i(s,t)};b(Mt,s=>{var t;(t=a(v).impactIds)!=null&&t.length?s(Ct):s(Ut,!1)})}r(vt),r(Q),A(()=>{p(Ht,a(v).id),p(it,`: ${a(v).description??""} `)}),T("click",nt,()=>ft(`/workspace/hazard?id=${a(v).id}`)),T("click",Rt,()=>ut(a(v).id)),i(kt,Q)}),T("click",$,st),i(g,I)};b(ht,g=>{a(J).length===0?g(yt):g(xt,!1)})}r(K),A(()=>p(gt,u().title||"Untitled Project")),i(k,K),Qt(),B()}export{qa as component};
