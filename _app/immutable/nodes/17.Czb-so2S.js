import{f as q,r as Q,e as p,a as R}from"../chunks/DA4zlYT6.js";import{i as G}from"../chunks/Bv-0c6t3.js";import{p as H,i as T,d as m,m as j,s,f as J,c as i,r as a,g as r,a as K,t as U}from"../chunks/Dh6mP1wG.js";import{s as F}from"../chunks/DvvhDkJs.js";import{i as V}from"../chunks/BEFexrlf.js";import{e as W,i as X}from"../chunks/BhqyOs_e.js";import{r as Y,s as Z,a as tt}from"../chunks/ClQRzYlK.js";import{s as at,a as et}from"../chunks/BqAN62AK.js";import{m as g}from"../chunks/5zig9VdD.js";import"../chunks/C9Pz-73a.js";import{c as it,a as ot}from"../chunks/BOTc4DbH.js";import{b as st}from"../chunks/ByEUdlhv.js";import{p as rt}from"../chunks/i71neXXY.js";var nt=q('<div class="modal-backdrop fade show"></div> <div class="modal fade show" tabindex="-1" style="display: block;"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h5 class="modal-title">Edit Mitigation</h5> <button type="button" class="btn-close" aria-label="Close"></button></div> <div class="modal-body"><div class="mb-3"><label for="mitigationDescription" class="form-label">Description</label> <textarea id="mitigationDescription" class="form-control" rows="3"></textarea></div></div> <div class="modal-footer"><button type="button" class="btn btn-secondary">Cancel</button> <button type="button" class="btn btn-primary">Save</button></div></div></div></div>',1);function dt(w,_){H(_,!1);let v=rt(_,"mitigationID",8);const y=it();let n=j("");ot(()=>{const t=T(g).find(o=>o.id===v());t&&m(n,t.description),console.log(`Editing mitigation: ${v()}`,t)});function C(){g.update(t=>t.map(o=>o.id===v()?{...o,description:r(n)}:o)),y("save",{mitigationID:v(),description:r(n)})}function d(){y("cancel")}G();var b=nt(),x=s(J(b),2),k=i(x),D=i(k),u=i(D),$=s(i(u),2);a(u);var l=s(u,2),f=i(l),h=s(i(f),2);Q(h),a(f),a(l);var I=s(l,2),M=i(I),e=s(M,2);a(I),a(D),a(k),a(x),p("click",$,d),st(h,()=>r(n),t=>m(n,t)),p("click",M,d),p("click",e,C),R(w,b),K()}var lt=q('<tr><td> </td><td> </td><td class="text-center"><input type="checkbox"/></td><td><button class="btn btn-sm btn-outline-primary me-2">Edit</button> <button type="button" class="btn btn-sm btn-outline-danger">Remove</button></td></tr>'),ct=q('<div class="container py-4"><h1 class="mb-4">Mitigations</h1> <table class="table table-striped table-bordered"><thead class="table-light"><tr><th scope="col">ID</th><th scope="col">Description</th><th scope="col" class="text-center">Implemented</th><th scope="col">Actions</th></tr></thead><tbody></tbody></table></div> <!>',1);function $t(w,_){H(_,!1);const[v,y]=at(),n=()=>et(g,"$mitigations",v);function C(e){confirm("Are you sure you want to remove this mitigation?")&&g.update(t=>t.filter(o=>o.id!==e))}let d=j(!1),b=j(null);function x(e){m(b,e),m(d,!0)}function k(e){m(d,!1)}function D(){m(d,!1)}function u(e,t){g.update(o=>o.map(c=>c.id===e?{...c,implemented:t}:c))}G();var $=ct(),l=J($),f=s(i(l),2),h=s(i(f));W(h,5,n,X,(e,t)=>{var o=lt(),c=i(o),L=i(c,!0);a(c);var A=s(c),N=i(A,!0);a(A);var S=s(A),E=i(S);Y(E),a(S);var z=s(S),B=i(z),O=s(B,2);a(z),a(o),U(()=>{F(L,r(t).id),F(N,r(t).description),Z(E,r(t).implemented),tt(E,"aria-label",`Mark ${r(t).id??""} implemented`)}),p("change",E,P=>u(r(t).id,P.target.checked)),p("click",B,()=>x(r(t).id)),p("click",O,()=>C(r(t).id)),R(e,o)}),a(h),a(f),a(l);var I=s(l,2);{var M=e=>{dt(e,{get mitigationID(){return r(b)},$$events:{save:k,cancel:D}})};V(I,e=>{r(d)&&e(M)})}R(w,$),K(),y()}export{$t as component};
