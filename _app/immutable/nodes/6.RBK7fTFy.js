import{c as xt,a as b,f as y,t as Ga}from"../chunks/D_RzRloE.js";import"../chunks/DlkhPo0f.js";import{aH as ha,a4 as Ka,aI as Qa,al as Ta,p as wt,f as rt,a as Dt,s,c as i,r as e,t as Z,g as t,d as r,m,l as K,b as ka,aJ as Va,n as pa,e as fa}from"../chunks/q1fHjrPM.js";import{s as X}from"../chunks/DFReBX1E.js";import{i as Q}from"../chunks/BPmOuZDw.js";import{e as ut,i as mt}from"../chunks/DLTYB1tx.js";import{l as Xa,e as f,r as Kt}from"../chunks/DiVBmCPK.js";import{b as Ct,a as Ya}from"../chunks/wQEDsBu3.js";import{i as Mt}from"../chunks/BpamrcWA.js";import{s as Za,a as It}from"../chunks/0RoxKub5.js";import{p as te}from"../chunks/Ha9erj2b.js";import{g as pt}from"../chunks/C4NZD1wh.js";import{b as ft}from"../chunks/Dv3iMXi1.js";import{g as Qt}from"../chunks/BYSN6vaU.js";import{p as vt}from"../chunks/D2aCM8w_.js";import{c as ae}from"../chunks/DYbJMsu3.js";import{m as ee}from"../chunks/Cbw1HFvZ.js";import{i as jt}from"../chunks/C5hiBbar.js";import{H as Gt}from"../chunks/CuPwGgHW.js";import{c as Nt,o as ya}from"../chunks/C6l1qoH3.js";import{r as qt,b as se,a as _a}from"../chunks/DrLGDOvE.js";import{p as nt}from"../chunks/BXiDr8Nc.js";import{L as ie}from"../chunks/CM59ffT-.js";import{D as ga}from"../chunks/BoGFcRCe.js";function Ia(c,p,I){if(c.multiple){if(p==null)return;if(!Ka(p))return Qa();for(var v of c.options)v.selected=p.includes(zt(v));return}for(v of c.options){var h=zt(v);if(Ta(h,p)){v.selected=!0;return}}(!I||p!==void 0)&&(c.selectedIndex=-1)}function re(c,p){ha(()=>{var I=new MutationObserver(()=>{var v=c.__value;Ia(c,v)});return I.observe(c,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{I.disconnect()}})}function ne(c,p,I=p){var v=!0;Xa(c,"change",h=>{var _=h?"[selected]":":checked",M;if(c.multiple)M=[].map.call(c.querySelectorAll(_),zt);else{var x=c.querySelector(_)??c.querySelector("option:not([disabled])");M=x&&zt(x)}I(M)}),ha(()=>{var h=p();if(Ia(c,h,v),v&&h===void 0){var _=c.querySelector(":checked");_!==null&&(h=zt(_),I(h))}c.__value=h,v=!1}),re(c)}function zt(c){return"__value"in c?c.__value:c.value}var oe=y('<li class="list-group-item d-flex justify-content-between align-items-center"><div><strong> </strong><br/> <small> </small></div> <button class="btn btn-sm btn-outline-primary">Link</button></li>'),le=y('<ul class="list-group"></ul>'),de=y('<p class="text-muted">No matching impacts found.</p>'),ce=y('<div class="modal-backdrop fade show"></div> <div class="modal d-block" tabindex="-1"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><h5 class="modal-title">Link Existing Impact</h5> <button type="button" class="btn-close"></button></div> <div class="modal-body"><input type="text" class="form-control mb-3" placeholder="Search impacts..."/> <!></div> <div class="modal-footer"><button class="btn btn-secondary">Close</button></div></div></div></div>',1);function ve(c,p){wt(p,!1);let I=nt(p,"show",8,!1),v=nt(p,"impacts",24,()=>[]),h=nt(p,"search",12,"");const _=Nt();function M(z){_("link",z)}function x(){_("close")}Mt();var S=xt(),n=rt(S);{var u=z=>{var T=ce(),P=s(rt(T),2),N=i(P),V=i(N),A=i(V),J=s(i(A),2);e(A);var q=s(A,2),R=i(q);qt(R);var B=s(R,2);{var W=d=>{var g=le();ut(g,5,v,mt,(H,D)=>{var $=oe(),j=i($),G=i(j),tt=i(G,!0);e(G);var k=s(G,3),O=i(k);e(k),e(j);var E=s(j,2);e($),Z(()=>{X(tt,t(D).description),X(O,`Likelihood: ${t(D).likelihood??""} | Severity: ${t(D).severity??""}`)}),f("click",E,()=>M(t(D).id)),b(H,$)}),e(g),b(d,g)},U=(d,g)=>{{var H=D=>{var $=de();b(D,$)};Q(d,D=>{h()&&D(H)},g)}};Q(B,d=>{v().length?d(W):d(U,!1)})}e(q);var F=s(q,2),w=i(F);e(F),e(V),e(N),e(P),f("click",J,x),Ct(R,h),f("click",w,x),b(z,T)};Q(n,z=>{I()&&z(u)})}b(c,S),Dt()}var ue=y('<li class="list-group-item d-flex justify-content-between align-items-center"><div> </div> <button class="btn btn-sm btn-outline-primary">Link</button></li>'),me=y('<ul class="list-group"></ul>'),be=y('<p class="text-muted">No matching causes found.</p>'),pe=y('<div class="modal-backdrop fade show"></div> <div class="modal d-block" tabindex="-1"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><h5 class="modal-title">Link Existing Cause</h5> <button type="button" class="btn-close"></button></div> <div class="modal-body"><input type="text" class="form-control mb-3" placeholder="Search causes..."/> <!></div> <div class="modal-footer"><button class="btn btn-secondary">Close</button></div></div></div></div>',1);function fe(c,p){wt(p,!1);let I=nt(p,"show",8,!1),v=nt(p,"causes",24,()=>[]),h=nt(p,"search",12,"");const _=Nt();function M(z){_("link",z)}function x(){_("close")}Mt();var S=xt(),n=rt(S);{var u=z=>{var T=pe(),P=s(rt(T),2),N=i(P),V=i(N),A=i(V),J=s(i(A),2);e(A);var q=s(A,2),R=i(q);qt(R);var B=s(R,2);{var W=d=>{var g=me();ut(g,5,v,mt,(H,D)=>{var $=ue(),j=i($),G=i(j,!0);e(j);var tt=s(j,2);e($),Z(()=>X(G,t(D).description)),f("click",tt,()=>M(t(D).id)),b(H,$)}),e(g),b(d,g)},U=(d,g)=>{{var H=D=>{var $=be();b(D,$)};Q(d,D=>{h()&&D(H)},g)}};Q(B,d=>{v().length?d(W):d(U,!1)})}e(q);var F=s(q,2),w=i(F);e(F),e(V),e(N),e(P),f("click",J,x),Ct(R,h),f("click",w,x),b(z,T)};Q(n,z=>{I()&&z(u)})}b(c,S),Dt()}var _e=y("<option> </option>"),ge=y('<div class="mb-3"><label class="form-label">Risk Rating</label> <div class="d-flex align-items-center"><span class="badge bg-secondary me-2"> </span> <small> </small></div></div>'),he=y('<div class="modal-backdrop fade show"></div> <div class="modal fade show" tabindex="-1" style="display: block;"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h5 class="modal-title">Assess Impact</h5> <button type="button" class="btn-close" aria-label="Close"></button></div> <div class="modal-body"><div class="mb-3"><label class="form-label">Description</label> <textarea class="form-control" rows="2" disabled></textarea></div> <div class="mb-3"><label class="form-label">Severity</label> <input class="form-control" disabled/></div> <div class="mb-3"><label class="form-label">Likelihood</label> <select class="form-select"><option disabled>Select likelihood</option><!></select></div> <!></div> <div class="modal-footer"><button type="button" class="btn btn-secondary">Cancel</button> <button type="button" class="btn btn-primary">Save</button></div></div></div></div>',1);function ke(c,p){wt(p,!1);const I=m(),v=m();let h=nt(p,"hazardID",8),_=nt(p,"impactID",8);const M=Nt();let x=m(""),S=m(""),n=m("");ya(()=>{const k=Qt(jt).find(O=>O.id===_());k&&(r(x,k.description),r(S,k.severity))});const u={Catastrophic:5,Major:4,Considerable:3,Significant:2,Minor:1,"Almost Certain":5,Likely:4,Possible:3,Unlikely:2,Rare:1};function z(){var k;if(!t(n)){alert("Please select a likelihood.");return}t(I),(k=t(v))!=null&&k.rating,vt.update(O=>({...O,hazards:O.hazards.map(E=>{var bt;if(E.id!==h())return E;const at=(bt=E.hazardImpacts)==null?void 0:bt.some(lt=>lt.impactID===_()),ot={impactID:_(),likelihood:t(n)};return{...E,hazardImpacts:at?E.hazardImpacts.map(lt=>lt.impactID===_()?ot:lt):[...E.hazardImpacts||[],ot]}})})),M("save")}function T(){M("cancel")}K(()=>(t(S),t(n)),()=>{r(I,(u[t(S)]||0)*(u[t(n)]||0))}),K(()=>(t(S),t(n),ga),()=>{r(v,u[t(S)]&&u[t(n)]?ga.assess(u[t(n)],u[t(S)]):null)}),ka(),Mt();var P=he(),N=s(rt(P),2),V=i(N),A=i(V),J=i(A),q=s(i(J),2);e(J);var R=s(J,2),B=i(R),W=s(i(B),2);Kt(W),e(B);var U=s(B,2),F=s(i(U),2);qt(F),e(U);var w=s(U,2),d=s(i(w),2);Z(()=>{t(n),Va(()=>{})});var g=i(d);g.value=g.__value="";var H=s(g);ut(H,0,()=>["Almost Certain","Likely","Possible","Unlikely","Rare"],mt,(k,O)=>{var E=_e(),at={},ot=i(E,!0);e(E),Z(()=>{at!==(at=O)&&(E.value=(E.__value=O)??""),X(ot,O)}),b(k,E)}),e(d),e(w);var D=s(w,2);{var $=k=>{var O=ge(),E=s(i(O),2),at=i(E),ot=i(at,!0);e(at);var bt=s(at,2),lt=i(bt);e(bt),e(E),e(O),Z(()=>{X(ot,t(v).rating),X(lt,`${t(v).definition??""} (Score: ${t(v).score??""})`)}),b(k,O)};Q(D,k=>{t(v)&&k($)})}e(R);var j=s(R,2),G=i(j),tt=s(G,2);e(j),e(A),e(V),e(N),Z(()=>se(F,t(S))),f("click",q,T),Ct(W,()=>t(x),k=>r(x,k)),ne(d,()=>t(n),k=>r(n,k)),f("click",G,T),f("click",tt,z),b(c,P),Dt()}var ye=y('<div class="form-check"><input class="form-check-input" type="radio" name="impactSeverity"/> <label class="form-check-label"> </label></div>'),Ie=y('<div class="modal-backdrop fade show"></div> <div class="modal fade show" tabindex="-1" style="display: block;"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h5 class="modal-title">Edit Impact</h5> <button type="button" class="btn-close" aria-label="Close"></button></div> <div class="modal-body"><div class="mb-3"><label for="impactDescription" class="form-label">Description</label> <textarea id="impactDescription" class="form-control" rows="3"></textarea></div> <div class="mb-3"><label class="form-label">Severity</label> <div></div></div></div> <div class="modal-footer"><button type="button" class="btn btn-secondary">Cancel</button> <button type="button" class="btn btn-primary">Save</button></div></div></div></div>',1);function xe(c,p){wt(p,!1);const I=[];let v=nt(p,"impactID",8);const h=Nt();console.log(`Editing impact in modal: ${v()}`);let _=m(""),M=m("");const x=["Catastrophic","Major","Considerable","Significant","Minor"];ya(()=>{const w=Qt(jt).find(d=>d.id===v());w&&(r(_,w.description),r(M,w.severity))});function S(){jt.update(w=>w.map(d=>d.id===v()?{...d,description:t(_),severity:t(M)}:d)),h("save",{impactID:v(),description:t(_),severity:t(M)})}function n(){h("cancel")}Mt();var u=Ie(),z=s(rt(u),2),T=i(z),P=i(T),N=i(P),V=s(i(N),2);e(N);var A=s(N,2),J=i(A),q=s(i(J),2);Kt(q),e(J);var R=s(J,2),B=s(i(R),2);ut(B,5,()=>x,mt,(w,d)=>{var g=ye(),H=i(g);qt(H);var D,$=s(H,2),j=i($,!0);e($),e(g),Z(()=>{_a(H,"id",t(d)),D!==(D=t(d))&&(H.value=(H.__value=t(d))??""),_a($,"for",t(d)),X(j,t(d))}),Ya(I,[],H,()=>(t(d),t(M)),G=>r(M,G)),b(w,g)}),e(B),e(R),e(A);var W=s(A,2),U=i(W),F=s(U,2);e(W),e(P),e(T),e(z),f("click",V,n),Ct(q,()=>t(_),w=>r(_,w)),f("click",U,n),f("click",F,S),b(c,u),Dt()}var ze=y('<tr><td colspan="3" class="text-center text-muted">No causes added yet.</td></tr>'),we=y('<span class="text-muted">None</span>'),De=y('<tr><td> </td><td><!></td><td class="text-end"><div class="btn-group"><button class="btn btn-sm btn-outline-secondary">Edit</button> <button class="btn btn-sm btn-outline-danger">Remove</button></div></td></tr>'),Ce=y('<li class="list-group-item d-flex justify-content-between align-items-center"><span> </span> <div class="btn-group"><button class="btn btn-sm btn-outline-secondary">Edit</button> <button class="btn btn-sm btn-outline-danger">Remove</button></div></li>'),Me=y('<ul class="list-group mb-3"></ul>'),Le=y('<p class="text-muted">No hazard-specific mitigations added.</p>'),Se=y('<tr><td> </td><td> </td><td> </td><td class="text-end"><div class="btn-group"><button class="btn btn-sm btn-outline-secondary">Edit</button> <button class="btn btn-sm btn-outline-danger">Remove</button> <button class="btn btn-sm btn-outline-primary ms-2">Assess</button></div></td></tr>'),$e=y('<table class="table table-striped mb-3"><thead><tr><th>Description</th><th>Likelihood</th><th>Severity</th><th class="text-end">Actions</th></tr></thead><tbody></tbody></table>'),Ee=y('<p class="text-muted mb-3">No impacts added yet.</p>'),Ae=y('<main class="container py-4"><button class="btn btn-link mb-3">← Back to Workspace</button> <h1 class="mb-4">Add/Edit Hazard</h1> <div class="mb-3"><label for="hazardDescription" class="form-label">Hazard Description</label> <textarea id="hazardDescription" class="form-control" rows="4" placeholder="Describe what might go wrong"></textarea> <div class="form-text">A hazard is anything that could potentially cause harm.</div></div> <details class="card mb-3"><summary class="card-header d-flex justify-content-between align-items-center"><strong>Causes</strong> <small class="text-muted">▼</small></summary> <div class="card-body"><table class="table table-striped"><thead><tr><th>Cause</th><th>Associated Mitigations</th><th class="text-end">Actions</th></tr></thead><tbody><!></tbody></table> <button class="btn btn-outline-primary">Add New Cause</button> <button class="btn btn-outline-secondary ms-2">Link Existing Cause</button></div></details> <details class="card mb-3"><summary class="card-header d-flex justify-content-between align-items-center"><strong>Hazard-Specific Mitigations</strong> <small class="text-muted">▼</small></summary> <div class="card-body"><!> <button class="btn btn-outline-primary">Add Hazard-Specific Mitigation</button> <button class="btn btn-outline-secondary ms-2">Link Existing Mitigation</button></div></details> <details class="card mb-3"><summary class="card-header d-flex justify-content-between align-items-center"><strong>Impacts</strong> <small class="text-muted">▼</small></summary> <div class="card-body"><!> <button class="btn btn-outline-primary">Add Impact</button> <button class="btn btn-outline-secondary ms-2">Link Existing Impact</button></div></details> <button class="btn btn-success mb-4">Save Hazard</button> <!> <!> <!> <!> <!></main>');function is(c,p){var va,ua,ma;wt(p,!1);const[I,v]=Za(),h=()=>It(te,"$page",I),_=()=>It(vt,"$project",I),M=()=>It(ae,"$causes",I),x=()=>It(ee,"$mitigations",I),S=()=>It(jt,"$impacts",I),n=m(),u=m(),z=m(),T=m(),P=m(),N=m(),V=m(),A=m(),J=m(),q=m(),R=m();let B=m(""),W=m(!1),U=m(""),F=m(!1),w=m(""),d=m(!1),g=m(""),H=((va=t(u))==null?void 0:va.mitigationIds)||[],D=((ua=t(u))==null?void 0:ua.impactIds)||[],$=((ma=t(u))==null?void 0:ma.causeIds)||[],j=m(!1),G=m(null),tt=m(!1),k=m(null);function O(){pt(ft+"/workspace")}function E(a){pt(ft+`/workspace/hazard/cause?hazardID=${t(n)}&causeID=${a}`)}function at(){Lt(),pt(ft+`/workspace/hazard/cause?hazardID=${t(n)}`)}function ot(){Lt(),pt(ft+`/workspace/hazard/mitigation?hazardID=${t(n)}`)}function bt(){Lt(),pt(ft+`/workspace/hazard/impact?hazardID=${t(n)}`)}function lt(a){t(n)&&(vt.update(o=>({...o,hazards:o.hazards.map(l=>{var C;return l.id!==t(n)||((C=l.hazardImpacts)==null?void 0:C.some(Y=>Y.impactID===a))?l:{...l,hazardImpacts:[...l.hazardImpacts||[],{impactID:a}]}})})),r(W,!1))}function xa(a){t(n)&&(vt.update(o=>({...o,hazards:o.hazards.map(l=>{var L;return l.id===t(n)&&!((L=l.causeIds)!=null&&L.includes(a))?{...l,causeIds:[...l.causeIds||[],a]}:l})})),r(F,!1))}function za(a){xa(a.detail)}function wa(a){t(n)&&(vt.update(o=>({...o,hazards:o.hazards.map(l=>{var L;return l.id===t(n)&&!((L=l.mitigationIds)!=null&&L.includes(a))?{...l,mitigationIds:[...l.mitigationIds||[],a]}:l})})),r(d,!1))}function Da(a){wa(a.detail)}function Ca(a){if(!t(n))return;vt.update(l=>({...l,hazards:l.hazards.map(L=>L.id===t(n)?{...L,hazardImpacts:L.hazardImpacts?L.hazardImpacts.filter(C=>C.impactID!==a):[]}:L)}));const o=Qt(vt).hazards.find(l=>l.id===t(n));o&&r(u,o)}function Ma(a){t(n)&&r(u,Gt.removeCause(t(n),a))}function La(a){t(n)&&r(u,Gt.removeHazardMitigation(t(n),a))}function Sa(a){lt(a.detail)}function Lt(){if(!t(n)){const a=Gt.saveNewHazard(t(B));r(n,a.id),r(u,a.hazardObj)}}function $a(){Lt(),vt.update(a=>({...a,hazards:a.hazards.map(o=>o.id===t(n)?{...o,description:t(B)}:o)})),pt(ft+"/workspace")}K(()=>h(),()=>{r(n,h().url.searchParams.get("id"))}),K(()=>(t(n),_()),()=>{r(u,t(n)?_().hazards.find(a=>a.id===t(n)):null)}),K(()=>t(u),()=>{t(u)&&r(B,t(u).description)}),K(()=>(t(u),M()),()=>{var a;r(z,(((a=t(u))==null?void 0:a.causeIds)||[]).map(o=>M().find(l=>l.id===o)).filter(Boolean))}),K(()=>(t(z),x()),()=>{r(T,t(z).flatMap(a=>a.mitigationIds||[]).map(a=>x().find(o=>o.id===a)).filter(Boolean))}),K(()=>(t(u),x()),()=>{var a;r(P,(((a=t(u))==null?void 0:a.mitigationIds)||[]).map(o=>x().find(l=>l.id===o)).filter(Boolean))}),K(()=>S(),()=>{r(N,S())}),K(()=>(t(N),t(U)),()=>{r(V,t(N).filter(a=>a.description.toLowerCase().includes(t(U).toLowerCase())&&!D.includes(a.id)))}),K(()=>M(),()=>{r(A,M())}),K(()=>(t(A),t(w)),()=>{r(J,t(A).filter(a=>a.description.toLowerCase().includes(t(w).toLowerCase())&&!$.includes(a.id)))}),K(()=>x(),()=>{r(q,x())}),K(()=>(t(q),t(g)),()=>{r(R,t(q).filter(a=>a.description.toLowerCase().includes(t(g).toLowerCase())&&!H.includes(a.id)))}),ka(),Mt();var Bt=Ae(),Tt=i(Bt),Ot=s(Tt,4),Vt=s(i(Ot),2);Kt(Vt),pa(2),e(Ot);var Pt=s(Ot,2),Xt=s(i(Pt),2),Ut=i(Xt),Yt=s(i(Ut)),Ea=i(Yt);{var Aa=a=>{var o=ze();b(a,o)},Ha=a=>{var o=xt(),l=rt(o);ut(l,1,()=>t(z),mt,(L,C)=>{var Y=De(),st=i(Y),_t=i(st,!0);e(st);var dt=s(st),it=i(dt);{var ht=ct=>{var et=xt(),Et=rt(et);ut(Et,1,()=>t(C).mitigationIds,mt,(At,Ht,Wt)=>{pa();var ba=Ga();Z(Rt=>X(ba,`${Rt??""}
                      ${Wt<t(C).mitigationIds.length-1?", ":""}`),[()=>{var Rt;return(Rt=x().find(Wa=>Wa.id===t(Ht)))==null?void 0:Rt.description}],fa),b(At,ba)}),b(ct,et)},kt=ct=>{var et=we();b(ct,et)};Q(it,ct=>{var et;(et=t(C).mitigationIds)!=null&&et.length?ct(ht):ct(kt,!1)})}e(dt);var St=s(dt),gt=i(St),$t=i(gt),yt=s($t,2);e(gt),e(St),e(Y),Z(()=>X(_t,t(C).description)),f("click",$t,()=>E(t(C).id)),f("click",yt,()=>Ma(t(C).id)),b(L,Y)}),b(a,o)};Q(Ea,a=>{t(z).length===0?a(Aa):a(Ha,!1)})}e(Yt),e(Ut);var Zt=s(Ut,2),Ra=s(Zt,2);e(Xt),e(Pt);var Ft=s(Pt,2),ta=s(i(Ft),2),aa=i(ta);{var ja=a=>{var o=Me();ut(o,5,()=>t(P),mt,(l,L)=>{var C=Ce(),Y=i(C),st=i(Y,!0);e(Y);var _t=s(Y,2),dt=i(_t),it=s(dt,2);e(_t),e(C),Z(()=>X(st,t(L).description)),f("click",dt,()=>pt(ft+`/workspace/hazard/mitigation?hazardID=${t(n)}&mitigationID=${t(L).id}`)),f("click",it,()=>La(t(L).id)),b(l,C)}),e(o),b(a,o)},Na=a=>{var o=Le();b(a,o)};Q(aa,a=>{t(P).length?a(ja):a(Na,!1)})}var ea=s(aa,2),qa=s(ea,2);e(ta),e(Ft);var Jt=s(Ft,2),sa=s(i(Jt),2),ia=i(sa);{var Ba=a=>{var o=$e(),l=s(i(o));ut(l,5,()=>t(u).hazardImpacts,mt,(L,C)=>{var Y=xt();const st=fa(()=>S().find(it=>it.id===t(C).impactID));var _t=rt(Y);{var dt=it=>{var ht=Se(),kt=i(ht),St=i(kt,!0);e(kt);var gt=s(kt),$t=i(gt,!0);e(gt);var yt=s(gt),ct=i(yt,!0);e(yt);var et=s(yt),Et=i(et),At=i(Et),Ht=s(At,2),Wt=s(Ht,2);e(Et),e(et),e(ht),Z(()=>{X(St,t(st).description),X($t,t(C).likelihood),X(ct,t(st).severity)}),f("click",At,()=>{r(k,t(C).impactID),r(tt,!0),console.log("Editing impact:",t(C).impactID)}),f("click",Ht,()=>Ca(t(C).impactID)),f("click",Wt,()=>{r(G,t(C).impactID),r(j,!0)}),b(it,ht)};Q(_t,it=>{t(st)&&it(dt)})}b(L,Y)}),e(l),e(o),b(a,o)},Oa=a=>{var o=Ee();b(a,o)};Q(ia,a=>{var o,l;(l=(o=t(u))==null?void 0:o.hazardImpacts)!=null&&l.length?a(Ba):a(Oa,!1)})}var ra=s(ia,2),Pa=s(ra,2);e(sa),e(Jt);var na=s(Jt,2),oa=s(na,2);ve(oa,{get show(){return t(W)},get impacts(){return t(V)},get search(){return t(U)},set search(a){r(U,a)},$$events:{link:Sa,close:()=>r(W,!1)},$$legacy:!0});var la=s(oa,2);fe(la,{get show(){return t(F)},get causes(){return t(J)},get search(){return t(w)},set search(a){r(w,a)},$$events:{link:za,close:()=>r(F,!1)},$$legacy:!0});var da=s(la,2);ie(da,{get show(){return t(d)},get mitigations(){return t(R)},get search(){return t(g)},set search(a){r(g,a)},$$events:{link:Da,close:()=>r(d,!1)},$$legacy:!0});var ca=s(da,2);{var Ua=a=>{ke(a,{get hazardID(){return t(n)},get impactID(){return t(G)},$$events:{save:()=>r(j,!1),cancel:()=>r(j,!1)}})};Q(ca,a=>{t(j)&&t(G)&&a(Ua)})}var Fa=s(ca,2);{var Ja=a=>{xe(a,{get impactID(){return t(k)},$$events:{save:()=>r(tt,!1),cancel:()=>r(tt,!1)}})};Q(Fa,a=>{t(tt)&&t(k)&&a(Ja)})}e(Bt),f("click",Tt,O),Ct(Vt,()=>t(B),a=>r(B,a)),f("click",Zt,at),f("click",Ra,()=>r(F,!0)),f("click",ea,ot),f("click",qa,()=>r(d,!0)),f("click",ra,bt),f("click",Pa,()=>r(W,!0)),f("click",na,$a),b(c,Bt),Dt(),v()}export{is as component};
