import{f as q,r as Q,e as p,a as R}from"../chunks/BigRneoS.js";import"../chunks/DhYZTW0n.js";import{p as G,i as T,o as U,g as V,e as m,m as j,s,f as H,c as i,r as a,d as n,a as J,t as W}from"../chunks/Dp4XvV4q.js";import{s as F}from"../chunks/R0xEnjdg.js";import{i as X}from"../chunks/DUX-zM3N.js";import{e as Y,i as Z}from"../chunks/U-ZPKxaM.js";import{r as tt,s as at,a as et}from"../chunks/Dksa84ow.js";import{i as K}from"../chunks/DeQT2YmM.js";import{s as it,a as ot}from"../chunks/BFbgREId.js";import{m as g}from"../chunks/B7G4vysy.js";import"../chunks/DoDhfopV.js";import{b as st}from"../chunks/BcZp7PTO.js";import{p as nt}from"../chunks/B95QEdby.js";var rt=q('<div class="modal-backdrop fade show"></div> <div class="modal fade show" tabindex="-1" style="display: block;"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h5 class="modal-title">Edit Mitigation</h5> <button type="button" class="btn-close" aria-label="Close"></button></div> <div class="modal-body"><div class="mb-3"><label for="mitigationDescription" class="form-label">Description</label> <textarea id="mitigationDescription" class="form-control" rows="3"></textarea></div></div> <div class="modal-footer"><button type="button" class="btn btn-secondary">Cancel</button> <button type="button" class="btn btn-primary">Save</button></div></div></div></div>',1);function dt(w,_){G(_,!1);let v=nt(_,"mitigationID",8);const y=T();let r=j("");U(()=>{const t=V(g).find(o=>o.id===v());t&&m(r,t.description),console.log(`Editing mitigation: ${v()}`,t)});function C(){g.update(t=>t.map(o=>o.id===v()?{...o,description:n(r)}:o)),y("save",{mitigationID:v(),description:n(r)})}function d(){y("cancel")}K();var b=rt(),x=s(H(b),2),k=i(x),D=i(k),u=i(D),$=s(i(u),2);a(u);var l=s(u,2),f=i(l),h=s(i(f),2);Q(h),a(f),a(l);var I=s(l,2),M=i(I),e=s(M,2);a(I),a(D),a(k),a(x),p("click",$,d),st(h,()=>n(r),t=>m(r,t)),p("click",M,d),p("click",e,C),R(w,b),J()}var lt=q('<tr><td> </td><td> </td><td class="text-center"><input type="checkbox"/></td><td><button class="btn btn-sm btn-outline-primary me-2">Edit</button> <button type="button" class="btn btn-sm btn-outline-danger">Remove</button></td></tr>'),ct=q('<div class="container py-4"><h1 class="mb-4">Mitigations</h1> <table class="table table-striped table-bordered"><thead class="table-light"><tr><th scope="col">ID</th><th scope="col">Description</th><th scope="col" class="text-center">Implemented</th><th scope="col">Actions</th></tr></thead><tbody></tbody></table></div> <!>',1);function $t(w,_){G(_,!1);const[v,y]=it(),r=()=>ot(g,"$mitigations",v);function C(e){confirm("Are you sure you want to remove this mitigation?")&&g.update(t=>t.filter(o=>o.id!==e))}let d=j(!1),b=j(null);function x(e){m(b,e),m(d,!0)}function k(e){m(d,!1)}function D(){m(d,!1)}function u(e,t){g.update(o=>o.map(c=>c.id===e?{...c,implemented:t}:c))}K();var $=ct(),l=H($),f=s(i(l),2),h=s(i(f));Y(h,5,r,Z,(e,t)=>{var o=lt(),c=i(o),L=i(c,!0);a(c);var A=s(c),N=i(A,!0);a(A);var S=s(A),E=i(S);tt(E),a(S);var z=s(S),B=i(z),O=s(B,2);a(z),a(o),W(()=>{F(L,n(t).id),F(N,n(t).description),at(E,n(t).implemented),et(E,"aria-label",`Mark ${n(t).id??""} implemented`)}),p("change",E,P=>u(n(t).id,P.target.checked)),p("click",B,()=>x(n(t).id)),p("click",O,()=>C(n(t).id)),R(e,o)}),a(h),a(f),a(l);var I=s(l,2);{var M=e=>{dt(e,{get mitigationID(){return n(b)},$$events:{save:k,cancel:D}})};X(I,e=>{n(d)&&e(M)})}R(w,$),J(),y()}export{$t as component};
