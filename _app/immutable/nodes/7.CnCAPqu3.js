import{f as x,a as k}from"../chunks/DA4zlYT6.js";import{i as be}from"../chunks/Bv-0c6t3.js";import{p as _e,l as ye,h as we,t as j,a as Ce,s as r,c as t,d as y,m as w,g as a,r as e,n as Re}from"../chunks/Dh6mP1wG.js";import{s as d}from"../chunks/DvvhDkJs.js";import{i as Ne}from"../chunks/BEFexrlf.js";import{e as U,i as H}from"../chunks/BhqyOs_e.js";import{a as A}from"../chunks/ClQRzYlK.js";import{s as ze}from"../chunks/DDey6hSd.js";import{s as je}from"../chunks/eZDR9eBo.js";import{s as Ae,a as S}from"../chunks/BqAN62AK.js";import{b as K}from"../chunks/C9Pz-73a.js";import{p as Se}from"../chunks/CD6oGcH5.js";import{c as $e}from"../chunks/SP2ZwDGS.js";import{i as Oe}from"../chunks/Dsge_ew0.js";import{m as De}from"../chunks/5zig9VdD.js";var Ie=x('<div class="col-xl-3 col-6"><a class="card summary-card text-decoration-none h-100 svelte-144fktw"><div class="card-body"><p class="summary-label svelte-144fktw"> </p> <p class="summary-value svelte-144fktw"> </p> <p class="summary-helper mb-0 svelte-144fktw"> </p></div></a></div>'),Pe=x(`<div class="alert alert-success mb-0" role="status">Core checklist items are currently addressed. Continue refining hazards and
							mitigations as the project evolves.</div>`),Be=x('<li class="list-group-item px-0"><h3 class="h6 mb-1"> </h3> <p class="text-muted small mb-2"> </p> <a class="btn btn-sm btn-outline-primary"> </a></li>'),Te=x('<ul class="list-group list-group-flush"></ul>'),Le=x('<tr><td><h3 class="h6 mb-1"> </h3> <p class="text-muted small mb-0"> </p></td><td><span> </span> <div class="small text-muted mt-1"> </div></td><td class="text-end"><a class="btn btn-sm btn-link"> </a></td></tr>'),Me=x('<main class="overview-page container py-4 svelte-144fktw"><section class="overview-intro mb-4 svelte-144fktw"><p class="kicker svelte-144fktw">Workspace Overview</p> <div class="d-flex flex-column flex-lg-row justify-content-between gap-3"><div><h1 class="mb-2"> </h1> <p class="text-muted mb-0">Use this page to track DCB0160 readiness and jump straight to the highest-priority tasks.</p></div> <div class="card overview-card shadow-sm svelte-144fktw" style="min-width: 240px;"><div class="card-body py-3"><p class="small text-muted mb-2">Checklist completion</p> <div class="d-flex align-items-end mb-2 gap-2"><span class="display-6 fw-semibold mb-0"> </span> <span class="text-muted small mb-1"> </span></div> <div class="progress" style="height: 8px;"><div class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100"></div></div></div></div></div></section> <section class="row g-3 mb-4" aria-label="Summary metrics"></section> <section class="row g-3"><div class="col-lg-5"><div class="card overview-card h-100 svelte-144fktw"><div class="card-body"><h2 class="h5 mb-3">Recommended next actions</h2> <!></div></div></div> <div class="col-lg-7"><div class="card overview-card h-100 svelte-144fktw"><div class="card-body"><h2 class="h5 mb-3">DCB0160 checklist</h2> <div class="table-responsive"><table class="mb-0 table align-middle"><thead><tr><th scope="col">Item</th><th scope="col" class="text-nowrap">Status</th><th scope="col" class="text-end">Action</th></tr></thead><tbody></tbody></table></div></div></div></div></section></main>');function tt(ne,de){_e(de,!1);const[C,ve]=Ae(),$=()=>S(Se,"$project",C),E=()=>S($e,"$causes",C),V=()=>S(Oe,"$impacts",C),W=()=>S(De,"$mitigations",C),pe=[{key:"clinicalSafetyOfficer",title:"Named Clinical Safety Officer",description:"Record the accountable person for clinical safety oversight.",link:"/workspace/project",cta:"Add safety officer"},{key:"projectDetails",title:"Project Details Described",description:"Document project scope, context, and intended use.",link:"/workspace/project",cta:"Complete project details"},{key:"hazardLogRiskAssessment",title:"Hazard Log and Risk Assessment",description:"Capture hazards and assess risk levels for each hazard impact.",link:"/workspace/hazards",cta:"Review hazard log"},{key:"mitigationsInPlace",title:"Mitigations In Place",description:"Define and maintain mitigation controls for identified risks.",link:"/workspace/mitigations",cta:"Manage mitigations"},{key:"vendorComplianceReview",title:"Vendor Compliance Reviewed",description:"Track completion of the vendor compliance checklist.",link:"/workspace/compliance",cta:"Open compliance checklist"},{key:"alternativeOptionsAnalysis",title:"Clinical Safety Case Report Entries",description:"Document case report entries, including risk/benefit analysis of alternatives.",link:"/workspace/case-report",cta:"Update case report"}];let u=w([]),q=w([]),O=w([]),R=w(0),N=w(0);ye(()=>($(),E(),V(),W(),a(u),a(R)),()=>{var f,b,z,_;const o=$(),s=((f=o.hazards)==null?void 0:f.length)??0,p=E().length,l=V().length,c=W().length,h=(o.caseReportSections??{}).alternatives??o.alternatives??"",i={clinicalSafetyOfficer:!!((b=o.safetyOfficer)!=null&&b.trim()),projectDetails:!!((z=o.description)!=null&&z.trim()),hazardLogRiskAssessment:s>0,mitigationsInPlace:c>0,vendorComplianceReview:!!((_=o.compliance)!=null&&_.vendorComplianceReviewed),alternativeOptionsAnalysis:!!h.trim()},g={clinicalSafetyOfficer:i.clinicalSafetyOfficer?"Recorded":"Not recorded",projectDetails:i.projectDetails?"Recorded":"Not recorded",hazardLogRiskAssessment:s===1?"1 hazard logged":`${s} hazards logged`,mitigationsInPlace:c===1?"1 mitigation logged":`${c} mitigations logged`,vendorComplianceReview:i.vendorComplianceReview?"Checklist reviewed":"Checklist not reviewed",alternativeOptionsAnalysis:i.alternativeOptionsAnalysis?"Alternatives documented":"Alternatives not documented"},n={clinicalSafetyOfficer:i.clinicalSafetyOfficer?{text:"Recorded",className:"text-bg-success"}:{text:"Needs input",className:"text-bg-secondary"},projectDetails:i.projectDetails?{text:"Recorded",className:"text-bg-success"}:{text:"Needs input",className:"text-bg-secondary"},hazardLogRiskAssessment:i.hazardLogRiskAssessment?{text:"In progress",className:"text-bg-info"}:{text:"Needs input",className:"text-bg-secondary"},mitigationsInPlace:i.mitigationsInPlace?{text:"In progress",className:"text-bg-info"}:{text:"Needs input",className:"text-bg-secondary"},vendorComplianceReview:i.vendorComplianceReview?{text:"Reviewed",className:"text-bg-success"}:{text:"Needs input",className:"text-bg-secondary"},alternativeOptionsAnalysis:i.alternativeOptionsAnalysis?{text:"In progress",className:"text-bg-info"}:{text:"Needs input",className:"text-bg-secondary"}};y(u,pe.map(v=>({...v,done:i[v.key],statusText:g[v.key],indicatorText:n[v.key].text,indicatorClass:n[v.key].className}))),y(R,a(u).filter(v=>v.done).length),y(N,Math.round(a(R)/a(u).length*100)),y(q,[{label:"Hazards",value:String(s),helper:"Documented in register",link:"/workspace/hazards"},{label:"Causes",value:String(p),helper:"Mapped to hazards",link:"/workspace/hazards"},{label:"Mitigations",value:String(c),helper:"Active control actions",link:"/workspace/mitigations"},{label:"Impacts",value:String(l),helper:"Clinical outcomes tracked",link:"/workspace/impacts"}]),y(O,a(u).filter(v=>!v.done).slice(0,3))}),we(),be();var D=Me(),I=t(D),F=r(t(I),2),P=t(F),G=t(P),me=t(G,!0);e(G),Re(2),e(P);var J=r(P,2),Q=t(J),B=r(t(Q),2),T=t(B),ge=t(T);e(T);var X=r(T,2),he=t(X);e(X),e(B);var Y=r(B,2),Z=t(Y);e(Y),e(Q),e(J),e(F),e(I);var L=r(I,2);U(L,5,()=>a(q),H,(o,s)=>{var p=Ie(),l=t(p),c=t(l),m=t(c),h=t(m,!0);e(m);var i=r(m,2),g=t(i,!0);e(i);var n=r(i,2),f=t(n,!0);e(n),e(c),e(l),e(p),j(()=>{A(l,"href",K+a(s).link),d(h,a(s).label),d(g,a(s).value),d(f,a(s).helper)}),k(o,p)}),e(L);var ee=r(L,2),M=t(ee),te=t(M),ae=t(te),fe=r(t(ae),2);{var ue=o=>{var s=Pe();k(o,s)},ke=o=>{var s=Te();U(s,5,()=>a(O),H,(p,l)=>{var c=Be(),m=t(c),h=t(m,!0);e(m);var i=r(m,2),g=t(i,!0);e(i);var n=r(i,2),f=t(n,!0);e(n),e(c),j(()=>{d(h,a(l).title),d(g,a(l).description),A(n,"href",K+a(l).link),d(f,a(l).cta)}),k(p,c)}),e(s),k(o,s)};Ne(fe,o=>{a(O).length===0?o(ue):o(ke,!1)})}e(ae),e(te),e(M);var se=r(M,2),ie=t(se),re=t(ie),oe=r(t(re),2),ce=t(oe),le=r(t(ce));U(le,5,()=>a(u),H,(o,s)=>{var p=Le(),l=t(p),c=t(l),m=t(c,!0);e(c);var h=r(c,2),i=t(h,!0);e(h),e(l);var g=r(l),n=t(g),f=t(n,!0);e(n);var b=r(n,2),z=t(b,!0);e(b),e(g);var _=r(g),v=t(_),xe=t(v,!0);e(v),e(_),e(p),j(()=>{d(m,a(s).title),d(i,a(s).description),ze(n,1,`badge status-badge ${a(s).indicatorClass??""}`,"svelte-144fktw"),d(f,a(s).indicatorText),d(z,a(s).statusText),A(v,"href",K+a(s).link),d(xe,a(s).done?"Review":"Update")}),k(o,p)}),e(le),e(ce),e(oe),e(re),e(ie),e(se),e(ee),e(D),j(()=>{d(me,$().title||"Untitled Project"),d(ge,`${a(N)??""}%`),d(he,`${a(R)??""}/${a(u).length??""}`),je(Z,`width: ${a(N)}%`),A(Z,"aria-valuenow",a(N))}),k(ne,D),Ce(),ve()}export{tt as component};
