import{f as q,a as R}from"../chunks/D_RzRloE.js";import"../chunks/DlkhPo0f.js";import{p as G,d as v,m as j,s,f as H,c as i,r as a,g as r,a as J,t as Q}from"../chunks/q1fHjrPM.js";import{s as F}from"../chunks/DFReBX1E.js";import{i as T}from"../chunks/BPmOuZDw.js";import{e as U,i as V}from"../chunks/DLTYB1tx.js";import{r as W,s as X,a as Y}from"../chunks/DrLGDOvE.js";import{r as Z,e as p}from"../chunks/DiVBmCPK.js";import{i as K}from"../chunks/BpamrcWA.js";import{s as tt,a as at}from"../chunks/0RoxKub5.js";import{m as h}from"../chunks/Cbw1HFvZ.js";import"../chunks/Dv3iMXi1.js";import{c as et,o as it}from"../chunks/C6l1qoH3.js";import{b as ot}from"../chunks/wQEDsBu3.js";import{p as st}from"../chunks/BXiDr8Nc.js";import{g as rt}from"../chunks/BYSN6vaU.js";var nt=q('<div class="modal-backdrop fade show"></div> <div class="modal fade show" tabindex="-1" style="display: block;"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h5 class="modal-title">Edit Mitigation</h5> <button type="button" class="btn-close" aria-label="Close"></button></div> <div class="modal-body"><div class="mb-3"><label for="mitigationDescription" class="form-label">Description</label> <textarea id="mitigationDescription" class="form-control" rows="3"></textarea></div></div> <div class="modal-footer"><button type="button" class="btn btn-secondary">Cancel</button> <button type="button" class="btn btn-primary">Save</button></div></div></div></div>',1);function dt(w,_){G(_,!1);let m=st(_,"mitigationID",8);const y=et();let n=j("");it(()=>{const t=rt(h).find(o=>o.id===m());t&&v(n,t.description),console.log(`Editing mitigation: ${m()}`,t)});function C(){h.update(t=>t.map(o=>o.id===m()?{...o,description:r(n)}:o)),y("save",{mitigationID:m(),description:r(n)})}function d(){y("cancel")}K();var b=nt(),x=s(H(b),2),k=i(x),D=i(k),u=i(D),$=s(i(u),2);a(u);var l=s(u,2),f=i(l),g=s(i(f),2);Z(g),a(f),a(l);var I=s(l,2),M=i(I),e=s(M,2);a(I),a(D),a(k),a(x),p("click",$,d),ot(g,()=>r(n),t=>v(n,t)),p("click",M,d),p("click",e,C),R(w,b),J()}var lt=q('<tr><td> </td><td> </td><td class="text-center"><input type="checkbox"/></td><td><button class="btn btn-sm btn-outline-primary me-2">Edit</button> <button type="button" class="btn btn-sm btn-outline-danger">Remove</button></td></tr>'),ct=q('<div class="container py-4"><h1 class="mb-4">Mitigations</h1> <table class="table table-striped table-bordered"><thead class="table-light"><tr><th scope="col">ID</th><th scope="col">Description</th><th scope="col" class="text-center">Implemented</th><th scope="col">Actions</th></tr></thead><tbody></tbody></table></div> <!>',1);function Et(w,_){G(_,!1);const[m,y]=tt(),n=()=>at(h,"$mitigations",m);function C(e){confirm("Are you sure you want to remove this mitigation?")&&h.update(t=>t.filter(o=>o.id!==e))}let d=j(!1),b=j(null);function x(e){v(b,e),v(d,!0)}function k(e){v(d,!1)}function D(){v(d,!1)}function u(e,t){h.update(o=>o.map(c=>c.id===e?{...c,implemented:t}:c))}K();var $=ct(),l=H($),f=s(i(l),2),g=s(i(f));U(g,5,n,V,(e,t)=>{var o=lt(),c=i(o),L=i(c,!0);a(c);var A=s(c),N=i(A,!0);a(A);var S=s(A),E=i(S);W(E),a(S);var z=s(S),B=i(z),O=s(B,2);a(z),a(o),Q(()=>{F(L,r(t).id),F(N,r(t).description),X(E,r(t).implemented),Y(E,"aria-label",`Mark ${r(t).id??""} implemented`)}),p("change",E,P=>u(r(t).id,P.target.checked)),p("click",B,()=>x(r(t).id)),p("click",O,()=>C(r(t).id)),R(e,o)}),a(g),a(f),a(l);var I=s(l,2);{var M=e=>{dt(e,{get mitigationID(){return r(b)},$$events:{save:k,cancel:D}})};T(I,e=>{r(d)&&e(M)})}R(w,$),J(),y()}export{Et as component};
